# FlxOS Profile: ESP32-S3 + ILI9341 + XPT2046
id: esp32s3-ili9341-xpt
vendor: FlxOS
name: ESP32-S3-ILI9341
target: esp32s3
flash_size: 16MB
flash_mode: QIO
flash_freq: null
headless: false
inherits: _bases/base-esp32-spi

hardware:
  spiram:
    enabled: true
    speed: 120M               # 80M | 120M (120M requires flash_freq to also be 120M)
    xip_from_psram: true
    ecc_enable: true
  display:
    enabled: true
    driver: ILI9341
    bus: spi
    width: 240
    height: 320
    color_depth: 16
    size_inches: 2.8
    rotation: 1
    pins:
      cs: 10
      dc: 9
      rst: 14
      busy: -1
      bckl: 7
      mosi: 11
      sclk: 12
      miso: 13
    spi:
      host: 2
      mode: 0
      freq_write: 40000000
      freq_read: 16000000
      three_wire: false
      dma_channel: 0
    backlight:
      freq: 20000
      pwm_channel: 0
      invert: false
    panel:
      offset_x: 0
      offset_y: 0
      offset_rotation: 0
      dummy_read_pixel: 8
      dummy_read_bits: 1
      readable: true
      bus_shared: true
      invert: false
      rgb_order: false
      dlen_16bit: false
  touch:
    enabled: true
    driver: XPT2046
    bus: spi
    pins:
      cs: 5
      int: 6
      sclk: -1
      mosi: -1
      miso: -1
    spi:
      host: -1
      freq: 1000000
      bus_shared: true
      separate_pins: false
    calibration:
      x_min: 3800
      x_max: 200
      y_min: 200
      y_max: 3800
      offset_rotation: 0
  sdcard:
    enabled: true
    cs: 4
    spi_host: 2
    max_freq_khz: 20000
    mount_point: /sdcard
    pins:
      mosi: -1
      miso: -1
      sclk: -1
  battery:
    enabled: false
  usb:
    tiny_usb: false

target_config:
  instruction_cache_32kb: true
  data_cache_64kb: true
  data_cache_line_64b: true

console:
  usb_serial_jtag: true

cli:
  enabled: true
  prompt: "flxos> "
  max_cmdline_length: 256

lvgl:
  font_size: 14
  theme: DefaultDark
  ui_density: normal

capabilities:
  wifi: true
  bluetooth: true
  ble: true
  gps: false
  lora: false
  camera: false
  audio: false
  keyboard: false
  trackball: false

distribution:
  incubating: false
  tags:
    - spi
    - ili9341
    - dev-board
